#NVDA Remote Access
Версия 2.3

Добро пожаловать в дополнение NVDA Remote Access, которое позволит вам подключаться к удалённому компьютеру с помощью бесплатной программы экранного доступа NVDA. Нет разницы, находитесь ли вы в соседней комнате или на другом континенте. Подключение простое и команд, которые надо будет запомнить очень мало. Вы можете подключиться к другому компьютеру или позволить доверенному лицу подключиться к вашей системе для выполнения технического обслуживания, диагностики проблемы или проведения обучения.

##Предварительная подготовка

Вы должны установить NVDA и дополнение Remote Access на обоих компьютерах, между которыми планируется устанавливать сеансы удалённого доступа.
Установка NVDA и дополнения является стандартной. Если вам требуется дополнительная информация по этому вопросу, то обратитесь к руководству пользователя NVDA.

##Обновление

Если вы ранее устанавливали NVDA Remote для работы на безопасном рабочем столе, то после обновления дополнения, рекомендуется повторно выполнить данную установку.
Для этого сначала следует обновить уже установленное дополнение, а затем в категории «Общие» диалога настроек NVDA, нажать кнопку «Использовать последнюю сохранённую конфигурацию на экране входа в систему и на других защищённых экранах (требуются права администратора)».

##Запуск сеанса удалённого доступа через управляющий сервер
###Управляемый компьютер
1. Откройте меню NVDA → Сервис → Удалённое управление → Подключиться...
2. В первой паре радиокнопок выберите «Клиент».
3. Во второй паре радиокнопок выберите «Разрешить управление этим компьютером».
4. В поле «Адрес сервера» введите адрес сервера, к которому вы подключаетесь, например nvdaremote.com. Если этот сервер использует нестандартный порт, то вы можете указать его через двоеточие в формате &lt;адрес&gt;:&lt;порт&gt;, например nvdaremote.com:1234.
5. Придумайте и введите ключ в поле «Ключ» или нажмите кнопку «Создать ключ».
Ключ это идентификатор, который другие будут использовать для подключения к вашему компьютеру.
Управляющий и управляемый компьютер должны использовать один и тот же ключ.
6. Далее нажмите кнопку OK. Вы услышите короткий звуковой сигнал, сообщающий об успешном подключении.

###Управляющий компьютер
1. Откройте меню NVDA → Сервис → Удалённое управление → Подключиться...
2. В первой паре радиокнопок выберите «Клиент».
3. Во второй паре радиокнопок выберите «Управлять другим компьютером».
4. В поле «Адрес сервера» введите адрес сервера, к которому вы подключаетесь, например nvdaremote.com. Если этот сервер использует нестандартный порт, то вы можете указать его через двоеточие в формате &lt;адрес&gt;:&lt;порт&gt;, например nvdaremote.com:1234.
5. Придумайте и введите ключ в поле «Ключ» или нажмите кнопку «Создать ключ».
Управляющий и управляемый компьютер должны использовать один и тот же ключ.
6. Далее нажмите кнопку OK. Вы услышите короткий звуковой сигнал, сообщающий об успешном подключении.

##Прямые подключения
Опция «Сервер» в диалоговом окне «Подключение» позволяет установить прямое соединение между компьютерами без использования удалённого управляющего сервера.
После выбора радиокнопки «Сервер» выберите режим управления, в котором будете подключаться.
Другой человек будет подключаться к вам, используя режим управления, отличный от вашего.

После того, как режим управления выбран, вы можете использовать кнопку «Получить внешний IP-адрес», чтобы получить его, и
убедиться, что порт указываемый в поле «Порт» перенаправляется правильно.
Если сервер проверки обнаруживает, что ваш порт (по умолчанию 6837) закрыт, то появится соответствующее предупреждение.
Перенаправьте ваш порт и попробуйте снова.
Примечание: процесс перенаправления портов выходит за рамки данного документа. Пожалуйста, обратитесь к документации вашего маршрутизатора для получения дальнейших инструкций.

Придумайте и введите ключ в поле «Ключ» или нажмите кнопку «Создать ключ». Другому человеку для подключения будет нужен ваш внешний IP-адрес вместе с ключом. Если вы в поле «Порт» указали порт отличный от порта по умолчанию (6837), то убедитесь, что другой человек добавляет ваш порт к адресу сервера в формате &lt;внешний ip&gt;:&lt;порт&gt;.

После нажатия кнопки OK, вы будете готовы принимать входящие подключения.
Когда другой человек подключится, вы сможете использовать NVDA Remote.

##Управление удалённым компьютером

Когда сеанс установлен, пользователь управляющего компьютера может нажать клавишу F11 для начала управления удалённым компьютером, посредством использования клавиатурного или брайлевского ввода.
Когда NVDA скажет «Управление удалённым компьютером», то нажимаемые вами клавиши клавиатуры и брайлевского дисплея будут передаваться на удалённый компьютер. Кроме того, если на управляющем компьютере используется брайлевский дисплей, то на нём будет отображаться информация с удалённого компьютера. Для остановки передачи клавиш и возврата к управлению локальным компьютером, снова нажмите клавишу F11.
Для лучшей совместимости, пожалуйста, убедитесь, что раскладки клавиатуры на обоих компьютерах совпадают.

##Ссылка на сеанс удалённого доступа

Чтобы получить ссылку для упрощённого подключения другого человека к вашей сессии NVDA Remote, в подменю «Удалённое управление» активируйте пункт «Скопировать ссылку на удалённый сеанс».
Если ваш компьютер является управляющим, то эта ссылка позволит подключить другой компьютер в качестве управляемого.
Если же ваш компьютер настроен как управляемый, то любой получатель данной ссылки сможет управлять им.
Многие приложения позволяют пользователю автоматически активировать эту ссылку, но если она не работает в каком-то приложении, то её можно скопировать в буфер обмена и запустить из диалога «Выполнить» (Windows+R).


##Передача Control+Alt+Del на управляемый компьютер
При управлении удалённым компьютером, невозможно использовать комбинацию клавиш Control+Alt+Del простым её нажатием, поскольку она всё равно будет перехвачена системой управляющего компьютера.
Если вам требуется нажать на удалённом компьютере сочетание клавиш Control+Alt+Del, то на управляющем компьютере откройте меню NVDA → Сервис → Удалённое управление и активируйте пункт «Отправить Control+Alt+Del».

##Автоматическая установка сеанса удалённого доступа при запуске NVDA

Иногда может потребоваться управление одним из ваших компьютеров удалённо. Это особенно полезно, если вы путешествуете и хотите использовать свой домашний компьютер с ноутбука. Или, вы можете управлять компьютером в одной комнате вашего дома, сидя за другим ПК. Небольшая предварительная подготовка делает это возможным и удобным.

1. Откройте меню NVDA → Сервис → Удалённое управление → Параметры...
2. Установите флажок «Автоматически подключаться к управляющему серверу при запуске NVDA».
3. В первом наборе радиокнопок выберите, следует ли использовать для подключения удалённый или локальный управляющий сервер.
4. Во втором наборе радиокнопок выберите «Разрешить управление этим компьютером».
5. Если вы используете локальный управляющий сервер, вы должны убедиться, что порт управляемого компьютера указанный в поле «Порт» (по умолчанию 6837) открыт для приёма подключений от управляющих компьютеров.
6. Если вы хотите использовать удалённый управляющий сервер, заполните поля «Адрес сервера» и «Ключ» и нажмите кнопку OK. Кнопка автоматического создания ключа здесь недоступна. Лучше всего придумать ключ, который вы сможете запомнить и легко использовать его из любого удалённого места.

В качестве дополнительной возможности, вы можете настроить автоматическое подключение NVDA Remote к локальному или удалённому управляющему серверу в режиме управляющего компьютера. Для этого во втором наборе радиокнопок выберите «Управлять другим компьютером».

Примечание: Настройки автоподключения к управляющему серверу в диалоге «Параметры» применяются только после перезагрузки NVDA.


##Отключение речи и звуков с удалённого компьютера
Если вы не хотите слышать речь и стандартные звуки NVDA с управляемого компьютера, то просто откройте меню NVDA → Сервис → Удалённое управление и активируйте пункт «Отключить удалённую речь и звуки». Обратите внимание, что эта опция не отключает удаленный брайлевский вывод на управляющем компьютере.


##Завершение удалённого сеанса

Для завершения удалённого сеанса, выполните следующие действия:

1. На управляющем компьютере нажмите F11 для прекращения управления удалённым компьютером. Вы должны услышать или прочитать на брайлевском дисплее сообщение «Управление локальным компьютером», если вместо этого вы слышите или читаете сообщение «Управление удалённым компьютером», то нажмите F11 ещё раз.
2. Откройте меню NVDA → Сервис → Удалённое управление и нажмите Enter на пункте «Отключиться».

##Передача буфера обмена
Пункт «Передать буфер обмена» в подменю «Удалённое управление» позволяет вам в удалённом сеансе передавать текст из буфера обмена между подключёнными компьютерами.
При его активации, любой текст из буфера обмена управляющего компьютера будет передан в буфер обмена управляемого и наоборот.

##Настройка NVDA Remote для работы на безопасном рабочем столе

Для работы NVDA Remote на безопасном рабочем столе, дополнение должно быть установлено в системную папку настроек NVDA.

1. Откройте меню NVDA → Параметры → Настройки...
2. В открывшимся диалоге настроек, в категории «Общие», нажмите кнопку «Использовать последнюю сохранённую конфигурацию на экране входа в систему и на других защищённых экранах (требуются права администратора)».
3. Ответьте «Да» на вопросы, связанные с копированием настроек и плагинов. Также ответьте на вопросы контроля учётных записей, которые могут появиться.
4. Когда конфигурация будет скопирована, нажмите кнопку OK, чтобы закрыть диалог копирования настроек. Следом ещё раз нажмите OK для закрытия диалога настроек NVDA.

После установки NVDA Remote для работы на безопасном рабочем столе, при переходе управляемого компьютера на защищённый экран (например в окно контроля учётных записей),
вы будете иметь на управляющем компьютере речевой и брайлевский вывод.

##Горячие клавиши NVDA Remote

По умолчанию, для отключения от сеанса удалённого доступа настроена комбинация клавиш NVDA+alt+pageDown, а для передачи содержимого буфера обмена на удалённый компьютер комбинация NVDA+control+shift+c.
Вы также можете настроить комбинации горячих клавиш для отключения речи и звуков с удалённого компьютера и для копирования ссылки на удалённый сеанс в категории «NVDA Remote» диалога настроек NVDA «Жесты ввода».

##Разработчики
Среди прочих, мы хотели бы отметить следующих разработчиков, кто помог сделать проект NVDA Remote реальностью.

* Hai Nguyen Ly
* Chris Westbrook
* Thomas Huebner
* John F Crosotn III
* Darrell Shandrow
* D Williams
* Matthew McCubbin
* Jason Meddaugh
* ABDULAZIZ ALSHMASI.
* Tyler W Kavanaugh
* Casey Mathews
* Babbage B.V.
* Leonard de Ruijter
* NV Access
* Reef Turner

##Список изменений

###Версия 2.3

* Выполнен переход на Python 3
* Прекращена поддержка Python 2
* Сделаны необходимые изменения для совместимости с NVDA 2019.3, а именно:
  - Переработка речевой подсистемы
  - Изменения в брайлевских дисплеях

###Версия 2.2

* Реализована поддержка IPv6
* Реализована поддержка NVDA 2018.3, наряду с более старыми версиями
* Реализована поддержка жестов определённых для конкретных моделей брайлевских дисплеев

###Версия 2.1

* Исправлено сохранение подключения в режиме «разрешения управления этим компьютером»
* Добавлена команда для передачи содержимого буфера обмена на удалённый компьютер по комбинации NVDA+control+shift+c
* Брайлевский ввод теперь работает в режиме обзора
* Добавлена поддержка жестов ввода привязанных к конкретным моделям брайлевских дисплеев
* Звуковые сигналы генерируемые NVDA Remote, больше не блокируют работу NVDA

###Версия 2.0

* В удалённых сеансах добавлена поддержка брайлевского вывода
* Добавлена поддержка ссылок на удалённые сеансы
* Все диалоги дополнения теперь распологаются в центре экрана, всоответствии с остальными диалогами NVDA
* Исправлена работа сервера проверки открытости порта, теперь это контролируемый нами portcheck.nvdaremote.com
* Добавлена поддержка автоподключения к управляющему серверу в режиме управляющего компьютера
* Исправлена ошибка рендеринга в файле справки
* Обновлён протокол до версии 2, в котором в каждом удалённом сообщении присутствует поле источника
* Произведена значительная чистка кода, что в будущем облегчит внесение изменений

##Внесение изменений в NVDA Remote

Для внесения своих изменений/исправлений в NVDA Remote, вы можете клонировать этот репозиторий.

###Сторонние зависимости

Они могут быть установлены с помощью pip:
- Markdown
- scons
- python-gettext

###Создание распространяемого пакета дополнения

1. Откройте командную строку и перейдите в каталог этого репозитория.
2. Выполните команду scons. Созданное дополнение, если нет ошибок, будет размещено в текущем каталоге.

